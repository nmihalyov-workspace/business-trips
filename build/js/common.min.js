"use strict";window.onload=function(){var t={popup:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.onHide,n=e.onShow,c=function(){document.body.style.cssText="position: fixed; margin-top: ".concat(-window.scrollY,"px")},i=function(t){document.body.style.cssText="position: static; margin-top: 0",window.scrollTo(0,t)};return{isShown:function(){return t.classList.contains("popup--opened")},show:function(){var e=new Promise((function(e){t.style.display="block",e()}));c(),e.then((function(){t.classList.add("popup--opened"),"function"==typeof n&&n()}))},hide:function(){var e=-parseInt(document.body.style.marginTop);t.classList.remove("popup--opened"),setTimeout((function(){t.style.display="none",i(e),"function"==typeof o&&o()}),300)}}}};Array.from(document.querySelectorAll(".js-open-popup")).map((function(e){return e.addEventListener("click",(function(e){e.preventDefault();var o=e.currentTarget.dataset.popup,n=document.querySelector('.js-popup[data-popup="'.concat(o,'"]'));t.popup(n).show()}))})),Array.from(document.querySelectorAll(".js-close-popup")).map((function(e){return e.addEventListener("click",(function(e){if(e.preventDefault(),!e.target.closest(".popup__window")||!e.currentTarget.classList.contains("js-popup")){var o=e.currentTarget.closest(".popup");t.popup(o).hide()}}))}));document.querySelector(".compare__block")&&window.addEventListener("scroll",(function t(){var e=window.scrollY;e+window.innerHeight/2>document.querySelector(".compare__block").getBoundingClientRect().top+e&&(document.querySelectorAll(".compare__block")[1].classList.add("compare__block--highlight"),window.removeEventListener("scroll",t))}));document.querySelector(".organization__map")&&window.addEventListener("scroll",(function t(){var e=window.scrollY;e+window.innerHeight/1.5>document.querySelector(".organization__map").getBoundingClientRect().top+e&&(document.querySelector(".organization__map").classList.add("organization__map--animated"),window.removeEventListener("scroll",t))})),document.querySelectorAll(".solutions__tab").length&&(Array.from(document.querySelectorAll(".solutions__tab")).map((function(t){t.addEventListener("click",(function(t){var e=t.currentTarget.dataset.tab;document.querySelector(".solutions__tab--active").classList.remove("solutions__tab--active"),t.currentTarget.classList.add("solutions__tab--active"),document.querySelector(".solutions__content--active").classList.remove("solutions__content--active"),document.querySelector('.solutions__content[data-tab="'.concat(e,'"]')).classList.add("solutions__content--active")}))})),Array.from(document.querySelectorAll(".solutions__select-item")).map((function(t){t.addEventListener("click",(function(t){var e=t.currentTarget,o=e.parentNode.previousElementSibling,n=e.dataset.tab,c=document.querySelector(".solutions__select");c.classList.contains("solutions__select--active")&&o.classList.contains("solutions__select-item")&&(e.parentNode.prepend(o),e.parentNode.parentNode.prepend(e)),c.classList.toggle("solutions__select--active"),document.querySelector(".solutions__content--active").classList.remove("solutions__content--active"),document.querySelector('.solutions__content[data-tab="'.concat(n,'"]')).classList.add("solutions__content--active")}))}))),Array.from(document.querySelectorAll(".possibility__more")).map((function(t){t.addEventListener("click",(function(t){var e=t.currentTarget,o=e.dataset.show,n=e.dataset.hide;e.parentNode.querySelector(".possibility__highlight").classList.toggle("possibility__highlight--shown"),e.innerText===o?e.innerText=n:e.innerText=o}))}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCIkYXBpIiwiJHBvcHVwIiwiX3JlZiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm9uSGlkZSIsIm9uU2hvdyIsImRvY3VtZW50Iiwic3R5bGUiLCJjb25jYXQiLCJzY3JvbGxZIiwiYm9keSIsImNzc1RleHQiLCJzY3JvbGxUbyIsIm9mZnNldCIsImlzU2hvd24iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInNob3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsImRpc3BsYXkiLCJoaWRlT3ZlcmZsb3ciLCJhZGQiLCJwcm9taXNlIiwiaGlkZSIsInBhcnNlSW50IiwibWFyZ2luVG9wIiwicmVtb3ZlIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm1hcCIsImVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRUYXJnZXQiLCJwb3B1cCIsInRhcmdldCIsImNsb3Nlc3QiLCJxdWVyeVNlbGVjdG9yIiwiY29tcGFyZUFuaW1hdGlvbiIsInkiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib3JnYW5pemF0aW9uQW5pbWF0aW9uIiwiaW5uZXJIZWlnaHQiLCJ0YWIiLCJjdXJyZW50U2VsZWN0SXRlbSIsImRhdGFzZXQiLCJwYXJlbnROb2RlIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInNlbGVjdCIsImVsZW1lbnQiLCJwcmVwZW5kIiwic2hvd1RleHQiLCJoaWRlVGV4dCIsInRvZ2dsZSIsImlubmVyVGV4dCJdLCJtYXBwaW5ncyI6ImFBQUFBLE9BQU9DLE9BQVMsV0FFZCxJQUFBQyxFQUFBLENBSUZBLE1BQUEsU0FBQUMsR0FBa0QsSUFBQUMsRUFBQUMsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBQSxHQUFyQ0csRUFBcUNKLEVBQXJDSSxPQUFBQyxFQUFxQ0wsRUFBckNLLE9BQVdELEVBQUFBLFdBQTBCRSxTQUFsQkQsS0FBa0JFLE1BQWxCRixRQUFrQixnQ0FBQUcsUUFBQVosT0FBQWEsUUFBQSxPQUc5Q0gsRUFBY0MsU0FBQUEsR0FDZkQsU0FFREksS0FBQUgsTUFBQUksUUFBQSxrQ0FJRWYsT0FBT2dCLFNBQVMsRUFBR0MsSUFBbkJqQixNQUFBQSxDQUtBa0IsUUFBUyxXQUFBLE9BQU1mLEVBQU9nQixVQUFVQyxTQUFTLGtCQUR6Q0MsS0FKQXJCLFdBS0FrQixJQUFBQSxFQUFTLElBQUFJLFNBQUEsU0FBQUMsR0FBQXBCLEVBQU1BLE1BQU1xQixRQUFOLFFBRlZELE9BS0hFLElBRUVGLEVBQUFBLE1BQU8sV0FDUnBCLEVBSERnQixVQUFBTyxJQUFBLGlCQUtZLG1CQUFaRCxHQUVBRSxRQUlHQyxLQW5CTDVCLFdBb0JHLElBTERpQixHQUFBWSxTQUFBbkIsU0FBQUksS0FBQUgsTUFBQW1CLFdBT0YzQixFQUFBZ0IsVUFBQVksT0FBQSxpQkFDQUgsWUFwQkssV0FxQkh6QixFQUFNYyxNQUFTTyxRQUFVZCxPQUV6QlAsRUFBT2dCLEdBQ0ksbUJBQUFYLEdBQ1RMLE1BS0MsU0FDSjZCLE1BQUFDLEtBQUF2QixTQUFBd0IsaUJBQUEsbUJBQUFDLEtBQUEsU0FBQUMsR0FBQSxPQS9CSUEsRUFBUEMsaUJBQUEsU0FBQSxTQUFBQyxHQWJGQSxFQUFBQyxpQkFnREVQLElBQU1DLEVBQUt2QixFQUFROEIsY0FBQ04sUUFBaUJPLE1BQXlCdEMsRUFDM0RrQyxTQUFBQSxjQUFBQSx5QkFBQUEsT0FBK0JLLEVBQS9CTCxPQUdEbkMsRUFBQXVDLE1BQU1DLEdBQVdGLGFBSjJDUixNQUE5REMsS0FBQXZCLFNBQUF3QixpQkFBQSxvQkFBQUMsS0FBQSxTQUFBQyxHQUFBLE9BV0ZKLEVBQUFBLGlCQUFvQkUsU0FBQUEsU0FBQUEsR0FJaEIsR0FKMkRJLEVBQUFDLGtCQUl2REQsRUFBRUksT0FBT0MsUUFBUSxvQkFBc0JMLEVBQUVFLGNBQWNyQixVQUFVQyxTQUFTLFlBQWEsQ0FBM0YsSUFBS2pCLEVBQVF3QyxFQUFBQSxjQUFRQSxRQUFsQixVQUdEekMsRUFBQUEsTUFBS3VDLEdBQUxiLGNBY05sQixTQUFJQSxjQUFTa0Msb0JBQ1g1QyxPQUFBQSxpQkFBT3FDLFVBVmtCLFNBQW5CUSxJQUNOLElBQU1DLEVBQUk5QyxPQUFPYSxRQUVqQmlDLEVBQUs5QyxPQUFHQSxZQUFBLEVBQUpVLFNBQTZCQSxjQUFTa0MsbUJBQVRHLHdCQUFBQyxJQUFBRixJQUMvQnBDLFNBQUFBLGlCQUFTd0IsbUJBQVQsR0FBQWYsVUFBZ0RBLElBQVVPLDZCQUMxRDFCLE9BQUFBLG9CQUFPaUQsU0FBUEosT0FnQkFuQyxTQUFTa0MsY0FBYyx1QkFBM0I1QyxPQUFJVSxpQkFBU2tDLFVBVG1CLFNBQXhCTSxJQUFOLElBQU1BLEVBQUFBLE9BQUFBLFFBR0ZKLEVBQUk5QyxPQUFPbUQsWUFBYyxJQUFNekMsU0FBU2tDLGNBQWMsc0JBQXNCRyx3QkFBd0JDLElBQU1GLElBQTlHcEMsU0FBUVYsY0FBT21ELHNCQUE2QlAsVUFBQUEsSUFBYywrQkFDeERsQyxPQUFBQSxvQkFBdUIsU0FBQXdDLE9BTzFCeEMsU0FBQXdCLGlCQUFBLG1CQUFBNUIsU0FFQzBCLE1BQU1DLEtBQUt2QixTQUFTd0IsaUJBQWlCLG9CQUFvQkMsS0FBSSxTQUFBQyxHQUQ3REEsRUFBSTFCLGlCQUFTd0IsU0FBaUIsU0FBQUksR0FDOUJOLElBQU1DLEVBQUt2QixFQUFROEIsY0FBQ04sUUFBaUJrQixJQUVqQzFDLFNBQU1nQyxjQUFXRiwyQkFBakJyQixVQUFBWSxPQUFBLDBCQUVBckIsRUFBQUEsY0FBU2tDLFVBQWNsQixJQUFBLDBCQUd2QmhCLFNBQUFBLGNBQVNrQywrQkFBVHpCLFVBQXNEQSxPQUFVWSw4QkFDaEVyQixTQUFBQSxjQUFBQSxpQ0FBQUEsT0FBQWdDLEVBQUFoQyxPQUF3RGdDLFVBQXhEaEIsSUFBb0VQLG9DQUt0RWlCLE1BQUVILEtBQUNJLFNBQUFBLGlCQUEwQiw0QkFBS0YsS0FBQSxTQUFBQyxHQUNoQ0EsRUFBQUMsaUJBQWtCRyxTQUFBQSxTQUFBQSxHQUNsQixJQUFNYSxFQUFBQSxFQUFBQSxjQUNBWCxFQUFpQlksRUFBdkJDLFdBQUFDLHVCQUNNQyxFQUFTL0MsRUFBUTRDLFFBQUNWLElBQWxCYSxFQUFTL0MsU0FBU2tDLGNBQWMsc0JBR3BDYyxFQUFPdkMsVUFBQ29DLFNBQVIsOEJBQUFGLEVBQUFsQyxVQUFBQyxTQUFBLDRCQUNBc0MsRUFBQUEsV0FBUUgsUUFBV0EsR0FDcEJHLEVBQUFILFdBQUFBLFdBQUFJLFFBQUFELElBSURoRCxFQUFBQSxVQUFTa0MsT0FBVCw2QkFFRGxDLFNBZkRrQyxjQUFBLCtCQUFBekIsVUFBQVksT0FBQSw4QkFERnJCLFNBQUFrQyxjQUFBLGlDQUFBaEMsT0FBQThCLEVBQUEsT0FBQXZCLFVBQUFPLElBQUEscUNBb0JBVSxNQUFHQyxLQUFBQSxTQUFBQSxpQkFBMEIsdUJBQUtGLEtBQUEsU0FBQUMsR0FDaENBLEVBQUFDLGlCQUFrQkcsU0FBQUEsU0FBQUEsR0FDbEIsSUFBTW9CLEVBQVF0QixFQUFHb0IsY0FDWEcsRUFBV0gsRUFBUUosUUFBUTFCLEtBRWpDOEIsRUFBUUgsRUFBV1gsUUFBQUEsS0FFcEJjLEVBUERILFdBQUFYLGNBQUEsMkJBQUF6QixVQUFBMkMsT0FBQSxpQ0FEQUosRUFBQUssWUFBQUgsRUFBQUYsRUFBQUssVUFBQUYsRUFBQUgsRUFBQUssVUFBQUgiLCJmaWxlIjoiY29tbW9uLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG5cbiAgLy8g0J7QsdGK0LXQutGCINCz0LvQvtCx0LDQu9GM0L3QvtCz0L4gQVBJXG5jb25zdCAkYXBpID0ge307XG5cbi8vIEFQSSDQtNC70Y8g0YDQsNCx0L7RgtGLINGBINC/0L7Qv9Cw0L/QsNC80LhcbiRhcGkucG9wdXAgPSAoJHBvcHVwLCB7IG9uSGlkZSwgb25TaG93IH0gPSB7fSkgPT4ge1xuICAvLyDQntGC0LrQu9GO0YfQsNC10YIg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDRgdC60YDQvtC70LvQuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1xuICBjb25zdCBoaWRlT3ZlcmZsb3cgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOiBmaXhlZDsgbWFyZ2luLXRvcDogJHstd2luZG93LnNjcm9sbFl9cHhgO1xuICB9O1xuICBcbiAgLy8g0JLQutC70Y7Rh9Cw0LXRgiDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGB0LrRgNC+0LvQu9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gIGNvbnN0IHNob3dPdmVyZmxvdyA9IG9mZnNldCA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBzdGF0aWM7IG1hcmdpbi10b3A6IDAnO1xuICAgIFxuICAgIHdpbmRvdy5zY3JvbGxUbygwLCBvZmZzZXQpO1xuICB9O1xuICBcbiAgcmV0dXJuIHtcbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiB0cnVlLCDQtdGB0LvQuCDQv9C+0L/QsNC/INC/0L7QutCw0LfRi9Cy0LDQtdGC0YHRjywg0LIg0LjQvdC+0Lwg0YHQu9GD0YfQsNC1IGZhbHNlXG4gICAgaXNTaG93bjogKCkgPT4gJHBvcHVwLmNsYXNzTGlzdC5jb250YWlucygncG9wdXAtLW9wZW5lZCcpLFxuICAgIC8vINCf0L7QutCw0LfRi9Cy0LDQtdGCINC/0L7Qv9Cw0L9cbiAgICBzaG93KCkge1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAkcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBoaWRlT3ZlcmZsb3coKTtcblxuICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgJHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLS1vcGVuZWQnKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvblNob3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvblNob3coKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyDQodC60YDRi9Cy0LDQtdGCINC/0L7Qv9Cw0L9cbiAgICBoaWRlKCkge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luVG9wKTtcbiAgXG4gICAgICAkcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAtLW9wZW5lZCcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICRwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBzaG93T3ZlcmZsb3cob2Zmc2V0KTtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkhpZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvbkhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG59O1xuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLW9wZW4tcG9wdXAnKSkubWFwKGVsID0+XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucG9wdXA7XG4gICAgY29uc3QgJHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXBvcHVwW2RhdGEtcG9wdXA9XCIke3RhcmdldH1cIl1gKTtcbiAgICBcbiAgICAkYXBpLnBvcHVwKCRwb3B1cCkuc2hvdygpO1xuICB9KVxuKTtcbiAgXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1jbG9zZS1wb3B1cCcpKS5tYXAoZWwgPT5cbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZighZS50YXJnZXQuY2xvc2VzdCgnLnBvcHVwX193aW5kb3cnKSB8fCAhZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanMtcG9wdXAnKSkge1xuICAgICAgY29uc3QgJHBvcHVwID0gZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cCcpO1xuXG4gICAgICAkYXBpLnBvcHVwKCRwb3B1cCkuaGlkZSgpO1xuICAgIH1cbiAgfSlcbik7XG5cbiAgY29uc3QgY29tcGFyZUFuaW1hdGlvbiA9ICgpID0+IHtcbiAgY29uc3QgeSA9IHdpbmRvdy5zY3JvbGxZO1xuXG4gIGlmICh5ICsgd2luZG93LmlubmVySGVpZ2h0IC8gMiA+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21wYXJlX19ibG9jaycpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHkpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFyZV9fYmxvY2snKVsxXS5jbGFzc0xpc3QuYWRkKCdjb21wYXJlX19ibG9jay0taGlnaGxpZ2h0Jyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGNvbXBhcmVBbmltYXRpb24pXG4gIH1cbn07XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tcGFyZV9fYmxvY2snKSkge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY29tcGFyZUFuaW1hdGlvbik7XG59XG4gIGNvbnN0IG9yZ2FuaXphdGlvbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgY29uc3QgeSA9IHdpbmRvdy5zY3JvbGxZO1xuXG4gIGlmICh5ICsgd2luZG93LmlubmVySGVpZ2h0IC8gMS41ID4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9yZ2FuaXphdGlvbl9fbWFwJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgeSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcmdhbml6YXRpb25fX21hcCcpLmNsYXNzTGlzdC5hZGQoJ29yZ2FuaXphdGlvbl9fbWFwLS1hbmltYXRlZCcpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvcmdhbml6YXRpb25BbmltYXRpb24pXG4gIH1cbn07XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3JnYW5pemF0aW9uX19tYXAnKSkge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb3JnYW5pemF0aW9uQW5pbWF0aW9uKTtcbn1cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zb2x1dGlvbnNfX3RhYicpLmxlbmd0aCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zb2x1dGlvbnNfX3RhYicpKS5tYXAoZWwgPT4ge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC50YWI7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb2x1dGlvbnNfX3RhYi0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnc29sdXRpb25zX190YWItLWFjdGl2ZScpO1xuICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3NvbHV0aW9uc19fdGFiLS1hY3RpdmUnKTtcbiAgICAgIFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvbHV0aW9uc19fY29udGVudC0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnc29sdXRpb25zX19jb250ZW50LS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5zb2x1dGlvbnNfX2NvbnRlbnRbZGF0YS10YWI9XCIke3RhcmdldH1cIl1gKS5jbGFzc0xpc3QuYWRkKCdzb2x1dGlvbnNfX2NvbnRlbnQtLWFjdGl2ZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zb2x1dGlvbnNfX3NlbGVjdC1pdGVtJykpLm1hcChlbCA9PiB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICBjb25zdCBjdXJyZW50U2VsZWN0SXRlbSA9IGVsZW1lbnQucGFyZW50Tm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZWxlbWVudC5kYXRhc2V0LnRhYjtcbiAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb2x1dGlvbnNfX3NlbGVjdCcpO1xuXG4gICAgICBpZiAoc2VsZWN0LmNsYXNzTGlzdC5jb250YWlucygnc29sdXRpb25zX19zZWxlY3QtLWFjdGl2ZScpICYmIGN1cnJlbnRTZWxlY3RJdGVtLmNsYXNzTGlzdC5jb250YWlucygnc29sdXRpb25zX19zZWxlY3QtaXRlbScpKSB7XG4gICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5wcmVwZW5kKGN1cnJlbnRTZWxlY3RJdGVtKTtcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnBhcmVudE5vZGUucHJlcGVuZChlbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgc2VsZWN0LmNsYXNzTGlzdC50b2dnbGUoJ3NvbHV0aW9uc19fc2VsZWN0LS1hY3RpdmUnKTtcbiAgICAgIFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvbHV0aW9uc19fY29udGVudC0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnc29sdXRpb25zX19jb250ZW50LS1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5zb2x1dGlvbnNfX2NvbnRlbnRbZGF0YS10YWI9XCIke3RhcmdldH1cIl1gKS5jbGFzc0xpc3QuYWRkKCdzb2x1dGlvbnNfX2NvbnRlbnQtLWFjdGl2ZScpO1xuICAgIH0pO1xuICB9KTtcbn1cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9zc2liaWxpdHlfX21vcmUnKSkubWFwKGVsID0+IHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgIGNvbnN0IHNob3dUZXh0ID0gZWxlbWVudC5kYXRhc2V0LnNob3c7XG4gICAgY29uc3QgaGlkZVRleHQgPSBlbGVtZW50LmRhdGFzZXQuaGlkZTtcblxuICAgIGVsZW1lbnQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcucG9zc2liaWxpdHlfX2hpZ2hsaWdodCcpLmNsYXNzTGlzdC50b2dnbGUoJ3Bvc3NpYmlsaXR5X19oaWdobGlnaHQtLXNob3duJyk7XG4gICAgZWxlbWVudC5pbm5lclRleHQgPT09IHNob3dUZXh0ID8gZWxlbWVudC5pbm5lclRleHQgPSBoaWRlVGV4dCA6IGVsZW1lbnQuaW5uZXJUZXh0ID0gc2hvd1RleHQ7XG4gIH0pO1xufSk7XG5cbn0iXX0=
